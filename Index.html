<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<title>ркХрк╛рк░рлАркЧрк░ ркорк┐ркдрлНрк░ тАУ Gujarat Service App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f1f5f9}
header{background:#0f172a;color:white;padding:15px;text-align:center;font-size:22px}
.section{padding:15px}
input,select,button{width:100%;padding:12px;margin-top:10px;border-radius:6px;border:1px solid #ccc}
button{background:#0ea5e9;color:white;font-size:16px;border:none}
.card{background:white;padding:15px;border-radius:10px;margin-bottom:10px;box-shadow:0 0 5px #ccc}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.category{padding:15px;color:white;border-radius:10px;font-weight:bold;text-align:center}
.hidden{display:none}
</style>
</head>

<body>

<header>ркХрк╛рк░рлАркЧрк░ ркорк┐ркдрлНрк░ тАУ Gujarat</header>

<div class="section" id="home">
  <button onclick="showRegister()">ЁЯзСтАНЁЯФз ркХрк╛рк░рлАркЧрк░ рк░ркЬрлАрк╕рлНркЯрлНрк░рлЗрк╢рки</button>
  <button onclick="showSearch()">ЁЯФН ркХрк╛рк░рлАркЧрк░ рк╢рлЛркзрлЛ</button>
</div>

<div class="section hidden" id="register">
  <div class="card">
    <h3>ркХрк╛рк░рлАркЧрк░ рк░ркЬрлАрк╕рлНркЯрлНрк░рлЗрк╢рки</h3>
    <input id="name" placeholder="ркирк╛рко">
    <input id="phone" placeholder="ркорлЛркмрк╛ркИрк▓ ркиркВркмрк░">
    <input id="city" placeholder="рк╢рк╣рлЗрк░ / ркЧрк╛рко">
    <select id="category">
      <option>ркЗрк▓рлЗркХрлНркЯрлНрк░рлАрк╢рк┐ркпрки</option>
      <option>рккрлНрк▓ркорлНркмрк░</option>
      <option>CCTV ркЗркирлНрк╕рлНркЯрлЛрк▓рлЗрк╢рки</option>
      <option>ркорк╛рк▓ рк╕рк╛ркорк╛рки рк╣рлЗрк░рклрлЗрк░</option>
      <option>рк╕рлБркерк╛рк░рлА ркХрк╛рко</option>
      <option>AC рклрлНрк░рлАркЭ рк░рлАрккрлЗрк░рлАркВркЧ</option>
      <option>ркорк┐ркХрлЗркирк┐ркХ</option>
      <option>ркХркорлНрккрлНркпрлБркЯрк░ ркПркирлНркЬрк┐.</option>
      <option>ркХрк▓рк░ ркХрк╛рко</option>
      <option>рк╕рклрк╛ркИ ркХрк╛рко</option>
      <option>рк▓рк╛ркжрлА ркЯрк╛ркИрк▓рлНрк╕ ркХрк╛рко</option>
      <option>рк╡рлЗрк▓рлНркбрк┐ркВркЧ ркХрк╛рко</option>
      <option>рккрлЗрк╕рлНркЯ ркХркВркЯрлНрк░рлЛрк▓</option>
      <option>ркЯрлАрк╡рлА рк░рлАрккрлЗрк░рлАркВркЧ</option>
      <option>ркЧрлНрк▓рк╛рк╕ рклрк┐ркЯрк┐ркВркЧ</option>
      <option>ркмрк╛рк░рлА ркмрк╛рк░ркгрк╛ рклрк┐ркЯрк┐ркВркЧ</option>
    </select>
    <button onclick="saveWorker()">рк░ркЬрлАрк╕рлНркЯрк░ ркХрк░рлЛ</button>
    <button onclick="goHome()">тмЕ рккрк╛ркЫрк╛</button>
  </div>
</div>

<div class="section hidden" id="search">
  <div class="card">
    <h3>ркХрлЗркЯрлЗркЧрк░рлА рккрк╕ркВркж ркХрк░рлЛ</h3>
    <div class="grid" id="categories"></div>
    <button onclick="goHome()">тмЕ рккрк╛ркЫрк╛</button>
  </div>
  <div id="result"></div>
</div>

<script>
const firebaseConfig = {
apiKey: "AIzaSyCTk0sFvZmY6olGOHwK59z-TYoSSj8_l0o",
authDomain: "karigar-mitra-9c6be.firebaseapp.com",
projectId: "karigar-mitra-9c6be",
storageBucket: "karigar-mitra-9c6be.firebasestorage.app",
messagingSenderId: "929574636222",
appId: "1:929574636222:web:085bb87b1d021e0c422cef"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const CATEGORIES=[
'ркЗрк▓рлЗркХрлНркЯрлНрк░рлАрк╢рк┐ркпрки','рккрлНрк▓ркорлНркмрк░','CCTV ркЗркирлНрк╕рлНркЯрлЛрк▓рлЗрк╢рки','ркорк╛рк▓ рк╕рк╛ркорк╛рки рк╣рлЗрк░рклрлЗрк░','рк╕рлБркерк╛рк░рлА ркХрк╛рко',
'AC рклрлНрк░рлАркЭ рк░рлАрккрлЗрк░рлАркВркЧ','ркорк┐ркХрлЗркирк┐ркХ','ркХркорлНрккрлНркпрлБркЯрк░ ркПркирлНркЬрк┐.','ркХрк▓рк░ ркХрк╛рко','рк╕рклрк╛ркИ ркХрк╛рко',
'рк▓рк╛ркжрлА ркЯрк╛ркИрк▓рлНрк╕ ркХрк╛рко','рк╡рлЗрк▓рлНркбрк┐ркВркЧ ркХрк╛рко','рккрлЗрк╕рлНркЯ ркХркВркЯрлНрк░рлЛрк▓','ркЯрлАрк╡рлА рк░рлАрккрлЗрк░рлАркВркЧ','ркЧрлНрк▓рк╛рк╕ рклрк┐ркЯрк┐ркВркЧ','ркмрк╛рк░рлА ркмрк╛рк░ркгрк╛ рклрк┐ркЯрк┐ркВркЧ'
];

function showRegister(){hideAll();register.classList.remove('hidden')}
function showSearch(){hideAll();search.classList.remove('hidden')}
function goHome(){hideAll();home.classList.remove('hidden')}
function hideAll(){home.classList.add('hidden');register.classList.add('hidden');search.classList.add('hidden')}

function saveWorker(){
db.collection("workers").add({
name:name.value,
phone:phone.value,
city:city.value,
category:category.value
});
alert("рк░ркЬрлАрк╕рлНркЯрлНрк░рлЗрк╢рки рк╕рклрк│");
goHome();
}

const catDiv=document.getElementById("categories");
CATEGORIES.forEach(c=>{
let d=document.createElement("div");
d.className="category";
d.style.background="#0ea5e9";
d.innerText=c;
d.onclick=()=>loadWorkers(c);
catDiv.appendChild(d);
});

function loadWorkers(cat){
db.collection("workers").where("category","==",cat).get().then(s=>{
result.innerHTML="";
s.forEach(doc=>{
let d=doc.data();
result.innerHTML+=`<div class='card'>
<b>${d.name}</b><br>
ЁЯУЮ ${d.phone}<br>
ЁЯУН ${d.city}
</div>`;
});
});
}
</script>

</body>
</html>


