<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<title>àª•àª¾àª°à«€àª—àª° àª®àª¿àª¤à«àª°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f4f6fb}
header{background:#1976d2;color:white;padding:15px;text-align:center;font-size:20px}
.card{background:white;border-radius:12px;padding:15px;margin:10px;box-shadow:0 2px 6px rgba(0,0,0,.1)}
.btn{background:#1976d2;color:white;border:none;padding:10px 15px;border-radius:8px;width:100%}
input,select{width:100%;padding:10px;margin:5px 0;border-radius:8px;border:1px solid #ccc}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.cat{padding:15px;border-radius:12px;color:white;text-align:center;font-weight:bold}
</style>
</head>
<body>

<header>ğŸ› ï¸ àª•àª¾àª°à«€àª—àª° àª®àª¿àª¤à«àª°</header>

<div id="app">

<div class="card">
<h3>ğŸ” Login / Register</h3>
<input id="phone" placeholder="àª®à«‹àª¬àª¾àªˆàª² àª¨àª‚àª¬àª°">
<button class="btn" onclick="login()">Login</button>
</div>

<div class="card">
<h3>ğŸ‘¨â€ğŸ”§ Register as Karigar</h3>
<input id="name" placeholder="àª¨àª¾àª®">
<select id="category">
<option>Plumber</option>
<option>Electrician</option>
<option>Carpenter</option>
<option>Painter</option>
<option>AC Repair</option>
</select>
<input type="file" id="photo">
<button class="btn" onclick="register()">Register</button>
</div>

<div class="card">
<h3>ğŸ” Find Karigar</h3>
<div class="grid" id="cats"></div>
</div>

</div>

<script>
const firebaseConfig = {
apiKey: "AIzaSyCTk0sFvZmY6olGOHwK59z-TYoSSj8_l0o",
authDomain: "karigar-mitra-9c6be.firebaseapp.com",
projectId: "karigar-mitra-9c6be",
storageBucket: "karigar-mitra-9c6be.appspot.com",
messagingSenderId: "929574636222",
appId: "1:929574636222:web:085bb87b1d021e0c422cef"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();
const storage=firebase.storage();

function login(){
alert("OTP system can be added next step");
}

function register(){
let name=document.getElementById("name").value;
let cat=document.getElementById("category").value;
let file=document.getElementById("photo").files[0];

let ref=storage.ref("karigars/"+Date.now()+".jpg");
ref.put(file).then(snap=>{
snap.ref.getDownloadURL().then(url=>{
db.collection("karigars").add({name,cat,photo:url});
alert("Registered Successfully");
});
});
}

let colors=["#e91e63","#9c27b0","#3f51b5","#009688","#ff9800"];
["Plumber","Electrician","Carpenter","Painter","AC Repair"].forEach((c,i)=>{
let d=document.createElement("div");
d.className="cat";
d.style.background=colors[i];
d.innerHTML=c;
d.onclick=()=>alert("Search "+c);
document.getElementById("cats").appendChild(d);
});
</script>

</body>
</html>
